#!/bin/sh
# This file runs when a DM logs you into a graphical session.
# If you use startx/xinit like a Chad, this file will also be sourced.
[[ -f ~/.zshenv ]] && source ~/.zshenv

if !laptop-detect ; then
    # altgr to type รก
    setxkbmap -rules evdev -model evdev -layout us -variant altgr-intl
fi

# Has to go before i3 for some stupid reason?
# Screensavers
if [[ "$DESKTOP_SESSION" == "i3" ]]; then
    # xss-lock displays betterlockscreen when lid is closed
    exec xss-lock -- betterlockscreen -l &
    betterlockscreen -u ~/.local/xdg/wallpapers/landscapes > /dev/null 2>&1 &
fi

if [[ "$DESKTOP_SESSION" == "cinnamon" ]]; then
    # xss-lock displays betterlockscreen when lid is closed
    exec xss-lock -- cinnamon-screensaver -l &
    cinnamon-screensaver &
fi
