define("discourse/plugins/discourse-fingerprint/discourse/routes/admin-plugins-fingerprint",["exports","@ember/routing/route"],function(e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n=n.default.extend({controllerName:"fingerprintReport",renderTemplate:function(){this.render("fingerprintReport")},setupController:function(e){e.update(e.username)}});e.default=n}),Ember.TEMPLATES["javascripts/fingerprint-report"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"div",true],[10,"class","dashboard-next dashboard-fingerprint"],[8],[0,"\\n  "],[7,"div",true],[10,"class","section"],[8],[0,"\\n    "],[7,"div",true],[10,"class","section"],[8],[0,"\\n      "],[7,"div",true],[10,"class","section-title"],[8],[0,"\\n        "],[7,"h2",true],[8],[1,[28,"i18n",["fingerprint.title"],null],false],[9],[0,"\\n      "],[9],[0,"\\n      "],[7,"div",true],[10,"class","section-body"],[8],[0,"\\n        "],[1,[28,"user-selector",null,[["single","usernames","onChangeCallback","placeholderKey","canReceiveUpdates"],[true,[24,["username"]],[28,"action",[[23,0,[]],"onChange"],null],"user.username.title","true"]]],false],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n\\n"],[4,"if",[[24,["showReport"]]],null,{"statements":[[0,"    "],[1,[28,"fingerprint-user-report",null,[["user","users","fingerprints","ignore","flag","showFingerprintData"],[[24,["user"]],[24,["users"]],[24,["fingerprints"]],[28,"action",[[23,0,[]],"ignore"],null],[28,"action",[[23,0,[]],"flag"],null],[28,"action",[[23,0,[]],"showFingerprintData"],null]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[28,"fingerprint-latest-matches",null,[["fingerprints","viewReportForUser","flag","showFingerprintData"],[[24,["fingerprints"]],[28,"action",[[23,0,[]],"viewReportForUser"],null],[28,"action",[[23,0,[]],"flag"],null],[28,"action",[[23,0,[]],"showFingerprintData"],null]]]],false],[0,"\\n\\n    "],[1,[28,"fingerprint-flagged",null,[["flagged","flag","showFingerprintData"],[[24,["flagged"]],[28,"action",[[23,0,[]],"flag"],null],[28,"action",[[23,0,[]],"showFingerprintData"],null]]]],false],[0,"\\n"]],"parameters":[]}],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/fingerprint-report"}}),Ember.TEMPLATES["javascripts/modal/fingerprint-details"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["value","key"],"statements":[[4,"d-modal-body",null,[["title"],["fingerprint.details"]],{"statements":[[0,"  "],[7,"table",true],[10,"class","fingerprint"],[8],[0,"\\n"],[4,"each",[[28,"-each-in",[[24,["data"]]],null]],null,{"statements":[[0,"      "],[7,"tr",true],[8],[0,"\\n        "],[7,"td",true],[10,"class","key"],[8],[1,[23,2,[]],false],[9],[0,"\\n        "],[7,"td",true],[10,"class","value"],[8],[1,[23,1,[]],false],[9],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[1,2]},null],[0,"  "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[7,"div",true],[10,"class","modal-footer"],[8],[0,"\\n  "],[1,[28,"d-modal-cancel",null,[["close"],[[28,"action",[[23,0,[]],"closeModal"],null]]]],false],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/modal/fingerprint-details"}}),Ember.TEMPLATES["javascripts/components/fingerprint-flagged"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["fingerprint","flags"],"statements":[[7,"div",true],[10,"class","section"],[8],[0,"\\n  "],[7,"div",true],[10,"class","section-title"],[8],[0,"\\n    "],[7,"h2",true],[8],[1,[28,"i18n",["fingerprint.flagged"],null],false],[9],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","section-body"],[8],[0,"\\n    "],[1,[28,"i18n",["fingerprint.flagged_instructions"],null],true],[0,"\\n\\n"],[4,"if",[[24,["flagged","length"]]],null,{"statements":[[0,"      "],[7,"table",true],[8],[0,"\\n        "],[7,"tr",true],[8],[0,"\\n          "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.hash"],null],false],[9],[0,"\\n          "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.matches"],null],false],[9],[0,"\\n          "],[7,"th",true],[8],[9],[0,"\\n          "],[7,"th",true],[8],[9],[0,"\\n          "],[7,"th",true],[8],[9],[0,"\\n        "],[9],[0,"\\n"],[4,"each",[[24,["flagged"]]],null,{"statements":[[0,"          "],[7,"tr",true],[8],[0,"\\n            "],[7,"td",true],[8],[0,"\\n              "],[7,"small",true],[8],[0,"\\n                "],[1,[23,1,["name"]],false],[0,"\\n"],[4,"if",[[23,1,["is_common"]]],null,{"statements":[[0,"                  "],[7,"span",true],[11,"data-tooltip",[28,"i18n",["fingerprint.common_device"],null]],[8],[1,[28,"d-icon",["layer-group"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"              "],[9],[0,"\\n              "],[7,"br",true],[8],[9],[0,"\\n              "],[1,[23,1,["value"]],false],[0,"\\n            "],[9],[0,"\\n            "],[7,"td",true],[8],[1,[23,1,["count"]],false],[9],[0,"\\n            "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,1,["hidden"]]],null,{"statements":[[0,"                "],[7,"a",false],[3,"action",[[23,0,[]],[24,["flag"]],"hide",[23,1,[]],"yes"]],[8],[1,[28,"d-icon",["far-eye"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.unhide"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                "],[7,"a",false],[3,"action",[[23,0,[]],[24,["flag"]],"hide",[23,1,[]]]],[8],[1,[28,"d-icon",["far-eye-slash"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.hide"],null],false],[9],[0,"\\n"]],"parameters":[]}],[0,"            "],[9],[0,"\\n            "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,1,["silenced"]]],null,{"statements":[[0,"                "],[7,"a",false],[3,"action",[[23,0,[]],[24,["flag"]],"silence",[23,1,[]],"yes"]],[8],[1,[28,"d-icon",["microphone"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.unsilence"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                "],[7,"a",false],[12,"class","silence"],[3,"action",[[23,0,[]],[24,["flag"]],"silence",[23,1,[]]]],[8],[1,[28,"d-icon",["microphone-slash"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.silence"],null],false],[9],[0,"\\n"]],"parameters":[]}],[0,"            "],[9],[0,"\\n            "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,1,["data"]]],null,{"statements":[[0,"                "],[7,"a",false],[3,"action",[[23,0,[]],[24,["showFingerprintData"]],[23,1,["data"]]]],[8],[1,[28,"d-icon",["info"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.details"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"            "],[9],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[1,2]},null],[0,"      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[28,"i18n",["fingerprint.flagged_not_found"],null],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/fingerprint-flagged"}}),Ember.TEMPLATES["javascripts/components/fingerprint-latest-matches"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["fingerprint","u"],"statements":[[7,"div",true],[10,"class","section"],[8],[0,"\\n  "],[7,"div",true],[10,"class","section-title"],[8],[0,"\\n    "],[7,"h2",true],[8],[1,[28,"i18n",["fingerprint.latest_matches"],null],false],[9],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","section-body"],[8],[0,"\\n    "],[1,[28,"i18n",["fingerprint.latest_matches_instructions"],[["algorithm"],["<a href=\'https://github.com/Valve/fingerprintjs2\'>Fingeprintjs2</a>"]]],true],[0,"\\n\\n"],[4,"if",[[24,["fingerprints","length"]]],null,{"statements":[[0,"      "],[7,"table",true],[8],[0,"\\n        "],[7,"tr",true],[8],[0,"\\n          "],[7,"th",true],[8],[9],[0,"\\n          "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.hash"],null],false],[9],[0,"\\n          "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.matches"],null],false],[9],[0,"\\n          "],[7,"th",true],[10,"colspan","3"],[8],[0,"\\n            "],[1,[28,"input",null,[["type","id","checked"],["checkbox","hide-common",[24,["hideCommon"]]]]],false],[0,"\\n            "],[7,"label",true],[10,"for","hide-common"],[8],[1,[28,"i18n",["fingerprint.hide_common"],null],false],[9],[0,"\\n          "],[9],[0,"\\n        "],[9],[0,"\\n"],[4,"each",[[24,["fingerprints"]]],null,{"statements":[[4,"if",[[28,"not",[[28,"and",[[24,["hideCommon"]],[23,1,["is_common"]]],null]],null]],null,{"statements":[[0,"            "],[7,"tr",true],[8],[0,"\\n              "],[7,"td",true],[8],[1,[28,"d-icon",[[23,1,["device_type"]]],null],false],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n                "],[7,"small",true],[8],[0,"\\n                  "],[1,[23,1,["name"]],false],[0,"\\n"],[4,"if",[[23,1,["is_common"]]],null,{"statements":[[0,"                    "],[7,"span",true],[11,"data-tooltip",[28,"i18n",["fingerprint.common_device"],null]],[8],[1,[28,"d-icon",["layer-group"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"                "],[9],[0,"\\n                "],[7,"br",true],[8],[9],[0,"\\n                "],[1,[23,1,["value"]],false],[0,"\\n              "],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n                "],[7,"small",true],[8],[1,[23,1,["user_ids","length"]],false],[9],[0,"\\n"],[4,"each",[[23,1,["users"]]],null,{"statements":[[4,"user-link",null,[["user"],[[23,2,[]]]],{"statements":[[0,"                    "],[1,[28,"avatar",[[23,2,[]]],[["imageSize"],["small"]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[2]},null],[0,"              "],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,1,["hidden"]]],null,{"statements":[[0,"                  "],[7,"a",false],[3,"action",[[23,0,[]],[24,["flag"]],"hide",[23,1,[]],"yes"]],[8],[1,[28,"d-icon",["far-eye"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.unhide"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                  "],[7,"a",false],[3,"action",[[23,0,[]],[24,["flag"]],"hide",[23,1,[]]]],[8],[1,[28,"d-icon",["far-eye-slash"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.hide"],null],false],[9],[0,"\\n"]],"parameters":[]}],[0,"              "],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,1,["silenced"]]],null,{"statements":[[0,"                  "],[7,"a",false],[3,"action",[[23,0,[]],[24,["flag"]],"silence",[23,1,[]],"yes"]],[8],[1,[28,"d-icon",["microphone"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.unsilence"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                  "],[7,"a",false],[12,"class","silence"],[3,"action",[[23,0,[]],[24,["flag"]],"silence",[23,1,[]]]],[8],[1,[28,"d-icon",["microphone-slash"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.silence"],null],false],[9],[0,"\\n"]],"parameters":[]}],[0,"              "],[9],[0,"\\n              "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,1,["data"]]],null,{"statements":[[0,"                  "],[7,"a",false],[3,"action",[[23,0,[]],[24,["showFingerprintData"]],[23,1,["data"]]]],[8],[1,[28,"d-icon",["info"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.details"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"              "],[9],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[1]},null],[0,"      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[28,"i18n",["fingerprint.matches_not_found"],null],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/fingerprint-latest-matches"}}),Ember.TEMPLATES["javascripts/components/fingerprint-user-report"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["fingerprint","u","user"],"statements":[[7,"div",true],[10,"class","section"],[8],[0,"\\n  "],[7,"div",true],[10,"class","section-title"],[8],[0,"\\n    "],[7,"h2",true],[8],[0,"\\n      "],[1,[28,"i18n",["fingerprint.matches_for"],null],false],[0,"\\n"],[4,"user-link",null,[["user"],[[24,["user"]]]],{"statements":[[0,"        "],[1,[28,"avatar",[[24,["user"]]],[["imageSize"],["medium"]]],false],[0,"\\n        "],[1,[24,["user","username"]],false],[0,"\\n"]],"parameters":[]},null],[0,"    "],[9],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","section-body"],[8],[0,"\\n"],[4,"if",[[24,["usersArray","length"]]],null,{"statements":[[0,"      "],[7,"p",true],[8],[1,[28,"i18n",["fingerprint.matches_found"],[["count"],[[24,["usersArray","length"]]]]],false],[9],[0,"\\n\\n      "],[7,"table",true],[8],[0,"\\n        "],[7,"tr",true],[8],[0,"\\n          "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.matching_user"],null],false],[9],[0,"\\n          "],[7,"th",true],[8],[9],[0,"\\n        "],[9],[0,"\\n"],[4,"each",[[24,["usersArray"]]],null,{"statements":[[0,"          "],[7,"tr",true],[8],[0,"\\n            "],[7,"td",true],[8],[0,"\\n"],[4,"user-link",null,[["user"],[[23,3,[]]]],{"statements":[[0,"                "],[1,[28,"avatar",[[23,3,[]]],[["imageSize"],["small"]]],false],[0,"\\n                "],[1,[23,3,["username"]],false],[0,"\\n"]],"parameters":[]},null],[0,"            "],[9],[0,"\\n            "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,3,["ignored"]]],null,{"statements":[[0,"                "],[7,"a",false],[3,"action",[[23,0,[]],[24,["ignore"]],[23,3,[]],"yes"]],[8],[1,[28,"d-icon",["user"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.unignore"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"                "],[7,"a",false],[3,"action",[[23,0,[]],[24,["ignore"]],[23,3,[]]]],[8],[1,[28,"d-icon",["user-slash"],null],false],[0," "],[1,[28,"i18n",["js.fingerprint.ignore"],null],false],[9],[0,"\\n"]],"parameters":[]}],[0,"            "],[9],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[3]},null],[0,"      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[28,"i18n",["fingerprint.matches_not_found"],null],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[9],[0,"\\n"],[9],[0,"\\n\\n"],[7,"div",true],[10,"class","section"],[8],[0,"\\n  "],[7,"div",true],[10,"class","section-title"],[8],[0,"\\n    "],[7,"h2",true],[8],[1,[28,"i18n",["fingerprint.details"],null],false],[9],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","section-body"],[8],[0,"\\n"],[4,"if",[[24,["fingerprints","length"]]],null,{"statements":[[0,"      "],[7,"table",true],[8],[0,"\\n        "],[7,"tr",true],[8],[0,"\\n          "],[7,"th",true],[8],[9],[0,"\\n          "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.hash"],null],false],[9],[0,"\\n          "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.first_seen"],null],false],[9],[0,"\\n          "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.last_seen"],null],false],[9],[0,"\\n          "],[7,"th",true],[8],[1,[28,"i18n",["fingerprint.results.matches"],null],false],[9],[0,"\\n          "],[7,"th",true],[8],[9],[0,"\\n        "],[9],[0,"\\n"],[4,"each",[[24,["fingerprints"]]],null,{"statements":[[0,"        "],[7,"tr",true],[8],[0,"\\n          "],[7,"td",true],[8],[1,[28,"d-icon",[[23,1,["device_type"]]],null],false],[9],[0,"\\n          "],[7,"td",true],[8],[0,"\\n              "],[7,"small",true],[8],[0,"\\n                "],[1,[23,1,["name"]],false],[0,"\\n"],[4,"if",[[23,1,["is_common"]]],null,{"statements":[[0,"                  "],[7,"span",true],[11,"data-tooltip",[28,"i18n",["fingerprint.common_device"],null]],[8],[1,[28,"d-icon",["layer-group"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"              "],[9],[0,"\\n              "],[7,"br",true],[8],[9],[0,"\\n              "],[1,[23,1,["value"]],false],[0,"\\n          "],[9],[0,"\\n          "],[7,"td",true],[8],[1,[28,"format-date",[[23,1,["created_at"]]],null],false],[9],[0,"\\n          "],[7,"td",true],[8],[1,[28,"format-date",[[23,1,["updated_at"]]],null],false],[9],[0,"\\n          "],[7,"td",true],[8],[0,"\\n            "],[7,"p",true],[8],[0,"\\n"],[4,"each",[[23,1,["users"]]],null,{"statements":[[4,"unless",[[23,2,["ignored"]]],null,{"statements":[[4,"user-link",null,[["user"],[[23,2,[]]]],{"statements":[[0,"                    "],[1,[28,"avatar",[[23,2,[]]],[["imageSize"],["small"]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null]],"parameters":[2]},null],[0,"            "],[9],[0,"\\n          "],[9],[0,"\\n          "],[7,"td",true],[10,"class","details-col"],[8],[0,"\\n"],[4,"if",[[23,1,["hidden"]]],null,{"statements":[[0,"              "],[7,"a",false],[12,"title",[28,"i18n",["js.fingerprint.unhide"],null]],[3,"action",[[23,0,[]],[24,["flag"]],"hide",[23,1,[]],"yes"]],[8],[1,[28,"d-icon",["far-eye"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[7,"a",false],[12,"title",[28,"i18n",["js.fingerprint.hide"],null]],[3,"action",[[23,0,[]],[24,["flag"]],"hide",[23,1,[]]]],[8],[1,[28,"d-icon",["eye-slash"],null],false],[9],[0,"\\n"]],"parameters":[]}],[4,"if",[[23,1,["silenced"]]],null,{"statements":[[0,"              "],[7,"a",false],[12,"title",[28,"i18n",["js.fingerprint.unsilence"],null]],[3,"action",[[23,0,[]],[24,["flag"]],"silence",[23,1,[]],"yes"]],[8],[1,[28,"d-icon",["microphone"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[7,"a",false],[12,"class","silence"],[12,"title",[28,"i18n",["js.fingerprint.silence"],null]],[3,"action",[[23,0,[]],[24,["flag"]],"silence",[23,1,[]]]],[8],[1,[28,"d-icon",["microphone-slash"],null],false],[9],[0,"\\n"]],"parameters":[]}],[4,"if",[[23,1,["data"]]],null,{"statements":[[0,"              "],[7,"a",false],[12,"title",[28,"i18n",["js.fingerprint.details"],null]],[3,"action",[[23,0,[]],[24,["showFingerprintData"]],[23,1,["data"]]]],[8],[1,[28,"d-icon",["info"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"          "],[9],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[1]},null],[0,"      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[28,"i18n",["fingerprint.none"],null],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/fingerprint-user-report"}}),define("discourse/plugins/discourse-fingerprint/discourse/fingerprint-route-map",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={resource:"admin.adminPlugins",path:"/plugins",map:function(){this.route("fingerprint")}}}),define("discourse/plugins/discourse-fingerprint/discourse/controllers/fingerprint-report",["exports","@ember/controller","@ember/object","discourse-common/lib/helpers","discourse/lib/ajax","discourse/lib/show-modal","ember-addons/ember-computed-decorators"],function(e,n,i,t,r,s,a){"use strict";function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,s=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){s=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(s)throw i}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}Object.defineProperty(e,"__esModule",{value:!0}),(e.default=void 0,t.registerHelper)("and",function(e){var n=l(e,2),e=n[0],n=n[1];return e&&n}),(0,t.registerHelper)("not",function(e){return!l(e,1)[0]});var o,f,c,d,p,m,a=n.default.extend((n=(0,a.default)("user","username"),o=a={queryParams:["username"],username:"",user:null,matches:[],fingerprints:[],showReport:function(e,n){return e&&n},init:function(){this._super.apply(this,arguments),this.update()},update:function(e){var s=this;return this.setProperties({fingerprints:[]}),e?(0,r.ajax)("/admin/plugins/fingerprint/user_report",{type:"GET",data:{username:e}}).then(function(e){var n=new Set(e.ignored_ids),t={};Object.values(e.users).forEach(function(e){e.ignored=n.has(e.id),t[e.id]=i.default.create(e)});var r=e.fingerprints.map(function(e){return e.user_ids=e.user_ids||[],e.users=e.user_ids.map(function(e){return t[e]}),i.default.create(e)});s.setProperties({user:e.user,users:t,fingerprints:r})}):(0,r.ajax)("/admin/plugins/fingerprint").then(function(e){var n={};Object.values(e.users).forEach(function(e){n[e.id]=i.default.create(e)});var t=e.fingerprints.map(function(e){return e.user_ids=e.user_ids||[],e.users=e.user_ids.map(function(e){return n[e]}),i.default.create(e)});s.setProperties({fingerprints:t,flagged:e.flagged.map(function(e){return i.default.create(e)})})})},actions:{onChange:function(){return this.update(this.username)},viewReportForUser:function(e){return this.set("username",e.username),this.update(e.username)},showFingerprintData:function(e){(0,s.default)("fingerprint-details").setProperties({data:e})},flag:function(e,n,t){return(0,r.ajax)("/admin/plugins/fingerprint/flag",{type:"PUT",data:{type:e,value:n.value,remove:t}}).then(function(){"hide"===e?n.set("hidden",!t):"silence"===e&&n.set("silenced",!t)})},ignore:function(e,n){return(0,r.ajax)("/admin/plugins/fingerprint/ignore",{type:"POST",data:{username:this.username,other_username:e.username,remove:n}}).then(function(){e.set("ignored",!n)})}}},f="showReport",c=[n],d=Object.getOwnPropertyDescriptor(a,"showReport"),p=a,m={},Object.keys(d).forEach(function(e){m[e]=d[e]}),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=c.slice().reverse().reduce(function(e,n){return n(o,f,e)||e},m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(o,f,m),m=null),a));e.default=a}),define("discourse/plugins/discourse-fingerprint/discourse/components/fingerprint-latest-matches",["exports","@ember/component"],function(e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n=n.default.extend({hideCommon:!0});e.default=n}),define("discourse/plugins/discourse-fingerprint/discourse/components/fingerprint-flagged",["exports","@ember/component"],function(e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n=n.default.extend({});e.default=n}),define("discourse/plugins/discourse-fingerprint/discourse/components/fingerprint-user-report",["exports","@ember/component","discourse-common/utils/decorators"],function(e,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s,i,a,l,u,t=n.default.extend((n=(0,t.default)("users"),r=t={usersArray:function(e){return Object.values(e)}},s="usersArray",i=[n],a=Object.getOwnPropertyDescriptor(t,"usersArray"),l=t,u={},Object.keys(a).forEach(function(e){u[e]=a[e]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=i.slice().reverse().reduce(function(e,n){return n(r,s,e)||e},u),l&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(l):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(r,s,u),u=null),t));e.default=t}),define("discourse/plugins/discourse-fingerprint/initializers/fingerprint",["exports","discourse/lib/ajax","discourse/lib/load-script"],function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"fingerprint",initialize:function(e){var n=e.lookup("site-settings:main"),e=e.lookup("current-user:main");n.fingerprint_enabled&&e&&Ember.run.later(function(){(0,r.default)("/plugins/discourse-fingerprint/javascripts/fp2.js").then(function(){Fingerprint2.get(function(e){var n={};e.forEach(function(e){return n[e.key]=e.value}),(0,t.ajax)("/fingerprint",{type:"POST",data:{data:JSON.stringify(n)}})})})},3e3)}};e.default=n});
//# sourceMappingURL=/assets/plugins/discourse-fingerprint-29212d7ac1f7fecac4e19492e345137c19c28ccec30fc9a5643f6993fba8d804.js.map