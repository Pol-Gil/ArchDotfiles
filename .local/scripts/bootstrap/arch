#! /usr/bin/env bash
### COMMENTS
# YOU NEED TO ADD YOURSELF TO WHEEL AND TO VIDEO
# video makes backlight work and wheel gives you sudo privilege
# usermod -a -G wheel video input
# Configure nvidia nvidia-xconfig
# Wallpaper error when background is set in desktop, it will also be used by
# LightDM unless the picture isn't coming from /usr/share/backgrounds

### VARIABLES
scripts=$HOME/.local/scripts

# Include functions
source $scripts/bootstrap/arch_install

### INSTALLATION 

echo "Is it the first time you run this script? [y/n]"
read FirstRun
cd ~/
sudo pacman -Syu # Update
# Distro variable
if [[ $FirstRun == y || $FirstRun == Y ]]; then
    echo "#! /bin/sh
    export DISTRO=arch" > ~/.config/distro
    yay_install # Needed to install AUR packages
fi

### Only change from here
base_install
if [[ $FirstRun == y || $FirstRun == Y ]]; then
    arch_install
fi
i3_install
if [[ $FirstRun == y || $FirstRun == Y ]]; then
    ### FUNCTIONS
    #applets             # Installs Cinnamon applets # implement pending
    #bloat_install
    #cinnamon_install
    #games_install
    #gnome_install
    #optional
    #plasma_install
    #virtualbox_install
    apps_AUR_install
    cava_install
    dwall
    laptop_install
    vim_install

    wget -qO- https://git.io/papirus-folders-install | sh # Install folder colors https://github.com/PapirusDevelopmentTeam/papirus-folders
    chsh -s $(which zsh) # Change default shell to zsh
fi
